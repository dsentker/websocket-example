<html>
<head>
    <title>Websocket example client</title>
</head>
<body>
    <button onclick="btnClick()">Send Test Message</button>
</body>
</html>
<script type="application/javascript">
    //function to generate a unique id for the client.
    function uuidv4() {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
    }
    const id = uuidv4();
    const url = 'ws://localhost:8080';
    const connection = new WebSocket(url);

    connection.onopen = () => {
    console.log("Connection to Websocket Server established!");
    };

    connection.onmessage = (e) => {
    console.log("New message: " + e.data);
    };

    connection.onclose = () => {
    console.log("Connection closed!");
    };

    connection.onerror = (error) => {
    console.log('An error occured:' + error);
    };

    function btnClick () {
        connection.send("Hello from Client " + id);
    }

</script>